<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ã‚³ãƒ©ãƒœã‚«ãƒ¼ãƒ‰å›³é‘‘ï½œç„¼ã‹ã‚ŒãŸä¼èª¬</title>
  <meta name="description" content="ã‚³ãƒ©ãƒœã‚«ãƒ¼ãƒ‰ã‚’å›³é‘‘å½¢å¼ã§ä¸€è¦§ãƒ»æ¤œç´¢ãƒ»ä¸¦ã³æ›¿ãˆã§ãã‚‹ãƒšãƒ¼ã‚¸ã§ã™ã€‚" />

  <style>
    :root{
      --bg:#0b0d17;
      --panel:rgba(255,255,255,.08);
      --panel2:rgba(255,255,255,.06);
      --line:rgba(255,255,255,.14);
      --text:#fff;
      --muted:rgba(255,255,255,.72);
      --muted2:rgba(255,255,255,.55);
      --good:#9fffa8;
      --warn:#ffd38a;
      --bad:#ff9aa5;
      --gold:#f6d37a;
      --gold2:#c9a24b;
      --shadow:0 14px 40px rgba(0,0,0,.55);
      --radius:16px;
      --radius2:22px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
    }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
      color:var(--text);
      background:
        radial-gradient(1100px 700px at 30% 10%, rgba(255,255,255,.08), transparent 55%),
        radial-gradient(900px 600px at 70% 20%, rgba(255,215,120,.06), transparent 55%),
        linear-gradient(rgba(10,12,24,.88), rgba(10,12,24,.92)),
        radial-gradient(circle at 25% 15%, rgba(255,255,255,.10), transparent 25%),
        radial-gradient(circle at 75% 25%, rgba(255,255,255,.08), transparent 25%),
        radial-gradient(circle at 55% 75%, rgba(255,255,255,.06), transparent 30%),
        var(--bg);
      overflow-x:hidden;
    }

    /* ===== header ===== */
    .header{
      position:sticky;
      top:0;
      z-index:50;
      backdrop-filter: blur(10px);
      background: linear-gradient(to bottom, rgba(8,10,18,.92), rgba(8,10,18,.65));
      border-bottom:1px solid var(--line);
    }
    .head-inner{
      max-width:1080px;
      margin:0 auto;
      padding:14px 14px;
      display:flex;
      align-items:center;
      gap:12px;
    }
    .back{
      flex:0 0 auto;
      appearance:none;
      border:1px solid var(--line);
      background:rgba(255,255,255,.10);
      color:var(--text);
      border-radius:12px;
      padding:10px 12px;
      font-weight:900;
      cursor:pointer;
      box-shadow: 0 10px 24px rgba(0,0,0,.22);
    }
    .titlebox{ min-width:0; flex:1 }
    .title{
      font-weight:1000;
      letter-spacing:.02em;
      font-size:18px;
      line-height:1.2;
    }
    .subtitle{
      margin-top:4px;
      font-size:12px;
      color:var(--muted);
      line-height:1.3;
      display:flex;
      align-items:center;
      gap:8px;
      flex-wrap:wrap;
    }
    .pill{
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.07);
      color:var(--muted);
      border-radius:999px;
      padding:4px 10px;
      font-size:11px;
      font-weight:800;
    }

    .wrap{
      max-width:1080px;
      margin:0 auto;
      padding:16px 14px 42px;
    }

    /* ===== hero ===== */
    .hero{
      margin-top:14px;
      border-radius: var(--radius2);
      border:1px solid rgba(255,255,255,.16);
      background:
        radial-gradient(900px 420px at 20% 0%, rgba(246,211,122,.11), transparent 55%),
        radial-gradient(700px 420px at 80% 30%, rgba(140,200,255,.10), transparent 55%),
        rgba(255,255,255,.06);
      box-shadow: var(--shadow);
      padding:16px 14px;
      overflow:hidden;
      position:relative;
    }
    .hero h1{
      margin:0;
      font-size:20px;
      font-weight:1000;
      letter-spacing:.02em;
    }
    .hero p{
      margin:10px 0 0;
      color:var(--muted);
      font-size:13px;
      line-height:1.55;
      max-width: 62ch;
    }
    .hero .meta{
      margin-top:12px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .hero .meta .pill{
      background:rgba(0,0,0,.18);
      color:rgba(255,255,255,.78);
      border-color: rgba(255,255,255,.18);
    }

    /* ===== controls ===== */
    .controls{
      margin-top:14px;
      display:grid;
      gap:10px;
    }
    .ctrl-panel{
      border-radius: var(--radius2);
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      box-shadow: 0 10px 24px rgba(0,0,0,.22);
      padding:12px;
    }
    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }

    .chips{
      display:flex;
      gap:8px;
      overflow:auto;
      padding-bottom:2px;
      -webkit-overflow-scrolling:touch;
    }
    .chips::-webkit-scrollbar{ height:6px }
    .chips::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.18); border-radius:999px }

    .chip{
      flex:0 0 auto;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.07);
      color: rgba(255,255,255,.86);
      border-radius:999px;
      padding:9px 12px;
      font-size:12px;
      font-weight:900;
      cursor:pointer;
      user-select:none;
      white-space:nowrap;
      transition: transform .08s ease, background .12s ease, border-color .12s ease;
    }
    .chip:active{ transform: scale(.98) }
    .chip[aria-pressed="true"]{
      border-color: rgba(246,211,122,.55);
      background: rgba(246,211,122,.16);
      color: #fff;
    }

    .search{
      flex:1;
      min-width: 220px;
      display:flex;
      gap:8px;
      align-items:center;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      border-radius: 14px;
      padding:10px 12px;
    }
    .search input{
      width:100%;
      background:transparent;
      border:0;
      outline:none;
      color:var(--text);
      font-size:13px;
      font-weight:700;
    }
    .search .hint{
      color:var(--muted2);
      font-size:11px;
      font-weight:800;
      white-space:nowrap;
    }
    select{
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      color:var(--text);
      border-radius:14px;
      padding:10px 12px;
      font-weight:900;
      font-size:12px;
      outline:none;
    }
    .count{
      margin-left:auto;
      color:var(--muted);
      font-size:12px;
      font-weight:900;
      padding:8px 10px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      white-space:nowrap;
    }
/* ===== grid ===== */
    .section-title{
      margin:16px 4px 10px;
      display:flex;
      align-items:baseline;
      gap:10px;
      flex-wrap:wrap;
    }
    .section-title h2{
      margin:0;
      font-size:16px;
      font-weight:1000;
      letter-spacing:.02em;
    }
    .section-title .sub{
      color:var(--muted);
      font-size:12px;
      font-weight:800;
    }

    .grid{
      display:grid;
      gap:12px;
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    @media (min-width:780px){
      .grid{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }
    @media (min-width:1020px){
      .grid{ grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }

    .card{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      overflow:hidden;
      box-shadow: 0 12px 28px rgba(0,0,0,.28);
      cursor:pointer;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      position:relative;
    }
    .card:hover{
      transform: translateY(-2px);
      border-color: rgba(246,211,122,.28);
      background: rgba(255,255,255,.075);
    }
    .thumb{
      aspect-ratio: 4 / 3;
      width:100%;
      display:block;
      object-fit: cover;
      background: rgba(0,0,0,.25);
    }
    .card-body{
      padding:10px 10px 12px;
      display:grid;
      gap:6px;
    }
    .card-name{
      font-size:13px;
      font-weight:1000;
      letter-spacing:.01em;
      line-height:1.25;
    }
    .tags{
      display:flex;
      gap:6px;
      flex-wrap:wrap;
    }
    .tag{
      font-size:11px;
      font-weight:1000;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
      color: rgba(255,255,255,.82);
    }
    .tag.gold{
      border-color: rgba(246,211,122,.55);
      background: rgba(246,211,122,.14);
      color:#fff;
    }
    .skill{
      margin-top:2px;
      font-size:11px;
      color:rgba(255,255,255,.82);
      font-weight:900;
    }
    .skill span{ color: var(--gold); }

    /* ===== legend strip ===== */
    .legend-area{
      margin-top:18px;
      border-radius: var(--radius2);
      border:1px solid rgba(246,211,122,.34);
      background:
        radial-gradient(900px 360px at 25% 0%, rgba(246,211,122,.18), transparent 60%),
        rgba(255,255,255,.05);
      box-shadow: 0 18px 50px rgba(0,0,0,.40);
      padding:12px;
    }
    .legend-head{
      display:flex;
      align-items:baseline;
      gap:10px;
      flex-wrap:wrap;
      padding:4px 4px 10px;
    }
    .legend-head h2{
      margin:0;
      font-size:16px;
      font-weight:1000;
      letter-spacing:.02em;
    }
    .legend-head .note{
      color:rgba(255,255,255,.78);
      font-size:12px;
      font-weight:900;
    }
    .legend-scroll{
      display:flex;
      gap:10px;
      overflow:auto;
      padding:6px 2px 2px;
      -webkit-overflow-scrolling:touch;
    }
    .legend-scroll::-webkit-scrollbar{ height:6px }
    .legend-scroll::-webkit-scrollbar-thumb{ background:rgba(246,211,122,.35); border-radius:999px }

    .legend-card{
      flex:0 0 auto;
      width: 240px;
      border-radius: 18px;
      border:1px solid rgba(246,211,122,.28);
      background: rgba(0,0,0,.22);
      overflow:hidden;
      cursor:pointer;
      box-shadow: 0 12px 28px rgba(0,0,0,.30);
    }
    .legend-card img{
      width:100%;
      height: 160px;
      object-fit: cover;
      display:block;
      background: rgba(0,0,0,.25);
    }
    .legend-card .b{
      padding:10px;
      display:grid;
      gap:6px;
    }
    .legend-card .n{
      font-weight:1000;
      font-size:13px;
      line-height:1.25;
    }
    .legend-card .s{
      color:rgba(255,255,255,.82);
      font-size:11px;
      font-weight:900;
    }

    /* ===== intro section ===== */
    .intro{
      margin-top:18px;
      border-radius: var(--radius2);
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      box-shadow: 0 14px 40px rgba(0,0,0,.35);
      overflow:hidden;
    }
    .intro .inner{
      padding:14px;
      display:grid;
      gap:14px;
    }
    .intro h2{
      margin:0;
      font-size:16px;
      font-weight:1000;
      letter-spacing:.02em;
    }
    .intro p{
      margin:0;
      color:var(--muted);
      font-size:13px;
      line-height:1.65;
    }

    /* ===== flow ===== */
    .flow{
      border-radius: 18px;
      border:1px solid rgba(246,211,122,.24);
      background:
        radial-gradient(900px 320px at 18% 0%, rgba(246,211,122,.14), transparent 60%),
        rgba(0,0,0,.16);
      padding:12px;
    }
    .flow-head{
      display:flex;
      align-items:baseline;
      gap:10px;
      flex-wrap:wrap;
      margin-bottom:10px;
    }
    .flow-head .k{
      font-weight:1000;
      font-size:14px;
      letter-spacing:.01em;
    }
    .flow-head .s{
      color:rgba(255,255,255,.78);
      font-size:12px;
      font-weight:900;
    }
    .steps{
      display:grid;
      gap:10px;
    }
    @media (min-width:780px){
      .steps{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }
    .step{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      padding:12px;
      display:grid;
      gap:6px;
      position:relative;
      overflow:hidden;
    }
    .step .no{
      width:34px;height:34px;
      border-radius: 999px;
      display:grid;
      place-items:center;
      font-weight:1000;
      border:1px solid rgba(246,211,122,.40);
      background: rgba(246,211,122,.14);
      color:#fff;
    }
    .step .t{
      font-weight:1000;
      font-size:13px;
      letter-spacing:.01em;
    }
    .step .d{
      color:var(--muted);
      font-size:12px;
      line-height:1.6;
      font-weight:800;
    }
    .step .d b{ color: var(--gold); }
    .flow-note{
      margin-top:10px;
      color:rgba(255,255,255,.78);
      font-size:12px;
      line-height:1.6;
      font-weight:900;
      padding:10px 10px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
    }

    /* ===== picks & faq ===== */
    .feature{
      display:grid;
      gap:10px;
    }
    @media (min-width:780px){
      .feature{ grid-template-columns: 1fr 1fr; }
    }

    .pick{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
      padding:12px;
      display:flex;
      gap:12px;
      align-items:flex-start;
    }
    .pick img{
      width:96px;
      height:72px;
      object-fit:cover;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      flex:0 0 auto;
    }
    .pick .txt{ min-width:0 }
    .pick .t{
      font-weight:1000;
      font-size:13px;
      line-height:1.25;
      margin:0;
    }
    .pick .d{
      margin:6px 0 0;
      color:var(--muted);
      font-size:12px;
      line-height:1.55;
    }
    .pick .d b{ color: var(--gold); }

    .faq{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.16);
      padding:12px;
      display:grid;
      gap:10px;
    }
    .qa{
      padding:10px 10px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }
    .qa .q{
      font-weight:1000;
      font-size:12px;
      color: rgba(255,255,255,.92);
    }
    .qa .a{
      margin-top:6px;
      color:var(--muted);
      font-size:12px;
      line-height:1.6;
      font-weight:800;
    }
    .qa .a b{ color: var(--gold); }

    /* ===== footer links ===== */
    .footer{
      margin-top:18px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:space-between;
      align-items:center;
      padding:12px 2px 0;
      color:var(--muted2);
      font-size:12px;
      font-weight:800;
    }
    .links{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .btnlink{
      text-decoration:none;
      color:var(--text);
      font-weight:1000;
      border-radius: 14px;
      padding:10px 12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.07);
      box-shadow: 0 10px 24px rgba(0,0,0,.22);
    }

    /* ===== modal ===== */
    .modal{
      position:fixed;
      inset:0;
      z-index:200;
      display:none;
      align-items:center;
      justify-content:center;
      padding:14px;
      background: rgba(0,0,0,.66);
      backdrop-filter: blur(8px);
    }
    .modal[aria-hidden="false"]{ display:flex; }
    .modal-card{
      width:min(980px, 100%);
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.16);
      background:
        radial-gradient(900px 420px at 20% 0%, rgba(246,211,122,.12), transparent 55%),
        rgba(10,12,24,.92);
      box-shadow: 0 22px 70px rgba(0,0,0,.70);
      overflow:hidden;
    }
    .modal-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:12px 12px;
      border-bottom:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
    }
    .modal-top .mn{
      font-weight:1000;
      font-size:14px;
      letter-spacing:.01em;
      min-width:0;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }
    .modal-top .close{
      appearance:none;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.08);
      color:#fff;
      border-radius: 12px;
      padding:10px 12px;
      font-weight:1000;
      cursor:pointer;
    }
    .modal-body{
      display:grid;
      gap:0;
    }
    @media (min-width:860px){
      .modal-body{ grid-template-columns: 1.35fr .65fr; }
    }
    .modal-img{
      width:100%;
      max-height: 72vh;
      object-fit: contain;
      background: rgba(0,0,0,.22);
      display:block;
    }
    .modal-info{
      padding:12px;
      border-top:1px solid rgba(255,255,255,.10);
    }
    @media (min-width:860px){
      .modal-info{
        border-top:0;
        border-left:1px solid rgba(255,255,255,.10);
      }
    }
    .modal-info .line{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      align-items:center;
      margin-bottom:10px;
    }
    .modal-info .desc{
      margin:0;
      color:var(--muted);
      font-size:13px;
      line-height:1.65;
      font-weight:800;
    }
    .modal-info .desc b{ color:var(--gold); }
  </style>
</head>



<header class="header">
  <div class="head-inner">
    <button class="back" id="backBtn" type="button" aria-label="æˆ»ã‚‹">â†</button>
    <div class="titlebox">
      <div class="title">ã‚³ãƒ©ãƒœã‚«ãƒ¼ãƒ‰å›³é‘‘</div>
      <div class="subtitle">
        <span class="pill" id="updatedPill">æ›´æ–°: --</span>
        <span class="pill">ã‚¿ãƒƒãƒ—ã§æ‹¡å¤§</span>
        <span class="pill">æ¤œç´¢ / çµã‚Šè¾¼ã¿</span>
      </div>
    </div>
  </div>
</header>

<main class="wrap">

  <section class="hero">
    <h1>ç¾å®Ÿã§èµ·ããŸâ€œç„¼ã‹ã‚ŒãŸä¼èª¬â€ã‚’è¨˜éŒ²ã™ã‚‹ã€‚</h1>
    <p>
      ã“ã“ã«ä¸¦ã¶ã®ã¯ã€å®£ä¼ã˜ã‚ƒãªã„ã€‚<br>
      ãã®ç¬é–“ãŒ<strong style="color:var(--gold)">ã‚«ãƒ¼ãƒ‰ã¨ã—ã¦ç„¼ãå›ºã‚ã‚‰ã‚ŒãŸè¨˜éŒ²</strong>ã ã€‚
    </p>
    <div class="meta">
      <span class="pill">å›³é‘‘ãƒ¢ãƒ¼ãƒ‰</span>
      <span class="pill">ã‚«ãƒ†ã‚´ãƒª / ã‚¿ã‚°</span>
      <span class="pill">è²©å£²ç”¨ 5 / éå£²å“ 5</span>
      <span class="pill">åˆè¨ˆ 10</span>
    </div>
  </section>

  <!-- Controls -->
  <section class="controls">
    <div class="ctrl-panel">
      <div class="row" style="margin-bottom:10px;">
        <div class="search" role="search">
          <span class="hint">ğŸ”</span>
          <input id="q" type="search" placeholder="ã‚«ãƒ¼ãƒ‰å / å¿…æ®ºæŠ€ / ã‚¿ã‚° ã§æ¤œç´¢â€¦" autocomplete="off" />
          <span class="hint" id="hintKey">ä¾‹: ãƒ€ãƒ¼ãƒ„ / éå£²å“</span>
        </div>

        <select id="sort" aria-label="ä¸¦ã³æ›¿ãˆ">
          <option value="new">æ–°ã—ã„é †</option>
          <option value="old">å¤ã„é †</option>
          <option value="tag">ã‚¿ã‚°é †</option>
          <option value="name">åå‰é †</option>
        </select>

        <div class="count" id="countLine">0 / 0</div>
      </div>

      <div class="row" style="margin-bottom:8px;">
        <div style="font-weight:1000;font-size:12px;color:var(--muted);">ã‚«ãƒ†ã‚´ãƒª</div>
        <div class="chips" id="catChips" aria-label="ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿"></div>
      </div>

      <div class="row">
        <div style="font-weight:1000;font-size:12px;color:var(--muted);">æ </div>
        <div class="chips" id="rarChips" aria-label="æ ãƒ•ã‚£ãƒ«ã‚¿"></div>
      </div>
    </div>
  </section>

  <!-- Main grid -->
  <div class="section-title">
    <h2>ã‚«ãƒ¼ãƒ‰ä¸€è¦§</h2>
    <div class="sub" id="subLine">â€”</div>
  </div>

  <section class="grid" id="grid" aria-label="ã‚³ãƒ©ãƒœã‚«ãƒ¼ãƒ‰ä¸€è¦§"></section>

  <!-- Legend area -->
  <section class="legend-area" id="legendArea">
    <div class="legend-head">
      <h2>éå£²å“ï¼šãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰æ </h2>
      <div class="note">è³¼å…¥ä¸å¯ã€‚é…å¸ƒ/è¨˜éŒ²ã§ã®ã¿è¿½åŠ ã•ã‚Œã‚‹ â€œåˆ¥æ ¼æ â€ã€‚</div>
    </div>
    <div class="legend-scroll" id="legendScroll" aria-label="ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ä¸€è¦§"></div>
  </section>

  <!-- Intro / Readable section -->
  <section class="intro">
    <div class="inner">

      <div>
        <h2>ç´¹ä»‹ã‚³ãƒ¼ãƒŠãƒ¼</h2>
        <p>
          ã‚³ãƒ©ãƒœã‚«ãƒ¼ãƒ‰ã¯<strong style="color:var(--gold)">ã‚·ãƒªã‚¢ãƒ«ã‚³ãƒ¼ãƒ‰ã§ç›´æ¥ã‚«ãƒ¼ãƒ‰ã‚’ã‚‚ã‚‰ã†</strong>ä»•çµ„ã¿ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>
          â€œã‚¿ãƒâ€ã‚’æ‰‹ã«å…¥ã‚Œã¦ã€ç•‘ã§è‚²ã¦ã¦ã€ç„¼ãä¸ŠãŒã£ãŸæ™‚ã«ã‚«ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚
        </p>
      </div>

      <!-- âœ… å…¥æ‰‹ãƒ•ãƒ­ãƒ¼ï¼ˆã“ã“ãŒãƒ¡ã‚¤ãƒ³ï¼‰ -->
      <div class="flow">
        <div class="flow-head">
          <div class="k">ã‚«ãƒ¼ãƒ‰ã®å…¥æ‰‹æ–¹æ³•</div>
          <div class="s">ã‚·ãƒªã‚¢ãƒ« â†’ ã‚¿ãƒ â†’ è‚²æˆ â†’ åç©«ï¼ˆã“ã“ã§ã‚«ãƒ¼ãƒ‰ã«ãªã‚‹ï¼‰</div>
        </div>

        <div class="steps" aria-label="å…¥æ‰‹ãƒ•ãƒ­ãƒ¼">
          <div class="step">
            <div class="no">1</div>
            <div class="t">ã‚·ãƒªã‚¢ãƒ«ã‚³ãƒ¼ãƒ‰å…¥åŠ›</div>
            <div class="d">BOOTH/åº—é ­ã§å¯¾è±¡å•†å“ã‚’è³¼å…¥ã—ã€ä»˜å±ã®<b>ã‚·ãƒªã‚¢ãƒ«</b>ã‚’å…¥åŠ›ã€‚</div>
          </div>
          <div class="step">
            <div class="no">2</div>
            <div class="t">ã‚³ãƒ©ãƒœã®ã‚¿ãƒã‚’GET</div>
            <div class="d">ã‚³ãƒ¼ãƒ‰ã§æ‰‹ã«å…¥ã‚‹ã®ã¯<b>ã‚«ãƒ¼ãƒ‰</b>ã§ã¯ãªãã€<b>ã‚¿ãƒ</b>ã€‚</div>
          </div>
          <div class="step">
            <div class="no">3</div>
            <div class="t">ç•‘ã§è‚²ã¦ã¦åç©«</div>
            <div class="d">æ¤ãˆã¦ã€è‚²ã¦ã¦ã€åç©«ã—ãŸç¬é–“â€•â€•<b>ã‚«ãƒ¼ãƒ‰ãŒç„¼ãä¸ŠãŒã‚‹</b>ã€‚</div>
          </div>
        </div>

        <div class="flow-note">
          ã‚³ãƒ¼ãƒ‰ã¯ã‚«ãƒ¼ãƒ‰ã˜ã‚ƒãªã„ã€‚<b>ãã‚Œã¯â€œã‚¿ãƒâ€</b>ã€‚<br>
          ç„¼ãä¸ŠãŒã£ãŸç¬é–“ã€ãã®ã‚«ãƒ¼ãƒ‰ã®é‹å‘½ï¼ˆæ ï¼‰ãŒæ±ºã¾ã‚‹ã€‚
        </div>
      </div>

      <div class="feature">
        <div>
          <h2 style="font-size:14px;margin-bottom:10px;">ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—</h2>

          <div class="pick" id="pick1">
            <img alt="ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—1" src="" />
            <div class="txt">
              <p class="t">ï¼ˆãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå…¥ã‚‹ï¼‰</p>
              <p class="d">cardsé…åˆ—ã§ <b>pick:true</b> ã‚’ä»˜ã‘ãŸã‚«ãƒ¼ãƒ‰ãŒè‡ªå‹•ã§å‡ºã¾ã™ã€‚</p>
            </div>
          </div>

          <div class="pick" id="pick2" style="margin-top:10px;">
            <img alt="ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—2" src="" />
            <div class="txt">
              <p class="t">ï¼ˆãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå…¥ã‚‹ï¼‰</p>
              <p class="d">çŸ­æ–‡ã§ä¸–ç•Œè¦³ã‚’åˆºã™ã®ãŒå¼·ã„ã€‚</p>
            </div>
          </div>

          <div class="pick" id="pick3" style="margin-top:10px;">
            <img alt="ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—3" src="" />
            <div class="txt">
              <p class="t">ï¼ˆãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ãŒå…¥ã‚‹ï¼‰</p>
              <p class="d">â€œè¨˜éŒ²â€ã¨ã—ã¦ã®ã‚«ãƒ¼ãƒ‰ã‚’æŠ¼ã—å‡ºã™ã€‚</p>
            </div>
          </div>
        </div>

        <div>
          <h2 style="font-size:14px;margin-bottom:10px;">ãƒŸãƒ‹FAQ</h2>
          <div class="faq">
            <div class="qa">
              <div class="q">Q. ã‚³ãƒ©ãƒœã‚«ãƒ¼ãƒ‰ã¯è²·ãˆã¾ã™ã‹ï¼Ÿ</div>
              <div class="a">A. ã‚³ãƒ©ãƒœã¯åŸºæœ¬ã€<b>ã‚·ãƒªã‚¢ãƒ«ã§ã‚¿ãƒã‚’å…¥æ‰‹ â†’ ç•‘ã§åç©«</b>ã™ã‚‹å½¢å¼ã§ã™ã€‚è²©å£²ï¼ˆãƒ‘ãƒƒã‚¯ç­‰ï¼‰ã¯<b>BOOTH/åº—é ­</b>ã‹ã‚‰ã€‚</div>
            </div>
            <div class="qa">
              <div class="q">Q. éå£²å“ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰æ ã¯ï¼Ÿ</div>
              <div class="a">A. <b>è³¼å…¥ä¸å¯</b>ã§ã™ã€‚é…å¸ƒãƒ»è¨˜éŒ²ã«ã‚ˆã£ã¦ã®ã¿è¿½åŠ ã•ã‚Œã¾ã™ã€‚</div>
            </div>
            <div class="qa">
              <div class="q">Q. æ¬¡ã®ã‚³ãƒ©ãƒœã¯ï¼Ÿ</div>
              <div class="a">A. æ¬¡ã«ç„¼ã‹ã‚Œã‚‹ã®ã¯ã€èª°ã ã€‚</div>
            </div>
          </div>
        </div>
      </div>

      <div class="footer">
        <div class="links">
          <a class="btnlink" href="./zukan.html">å›³é‘‘ã¸æˆ»ã‚‹</a>
          <a class="btnlink" href="./index.html">ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</a>
          <a class="btnlink" href="https://takoyaki-toreka.booth.pm/" target="_blank" rel="noopener">BOOTH</a>
        </div>
        <div>Â© ç„¼ã‹ã‚ŒãŸä¼èª¬</div>
      </div>

    </div>
  </section>

</main>

<!-- Modal -->
<div class="modal" id="modal" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="modal-card" role="document">
    <div class="modal-top">
      <div class="mn" id="mTitle">â€”</div>
      <button class="close" id="mClose" type="button" aria-label="é–‰ã˜ã‚‹">é–‰ã˜ã‚‹</button>
    </div>
    <div class="modal-body">
      <img class="modal-img" id="mImg" src="" alt="æ‹¡å¤§ç”»åƒ" />
      <div class="modal-info">
        <div class="line" id="mTags"></div>
        <p class="desc" id="mDesc">â€”</p>
      </div>
    </div>
  </div>
</div>

<script>
(() => {
  "use strict";

  /* =========================================================
     collabo.htmlï¼ˆ1æšå®Œçµï¼‰
     âœ… å›³é‘‘ï¼‹ãƒ•ã‚£ãƒ«ã‚¿ï¼‹æ¤œç´¢ï¼‹ä¸¦ã³æ›¿ãˆ
     âœ… ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼šè²©å£²ç”¨5æš + éå£²å“5æšï¼ˆåˆè¨ˆ10ï¼‰
     âœ… ä»•çµ„ã¿èª¬æ˜ï¼šã‚·ãƒªã‚¢ãƒ«=ã‚¿ãƒ â†’ ç•‘ â†’ åç©«ã§ã‚«ãƒ¼ãƒ‰
     âœ… ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã®ç¨®é¡ã¯æ˜è¨˜ã—ãªã„ï¼ˆâ€œé‹å‘½ãŒæ±ºã¾ã‚‹â€è¡¨ç¾ï¼‰
     âœ… ç”»åƒã¯ã‚ãªãŸã®URL/ç›¸å¯¾ãƒ‘ã‚¹ã«å·®ã—æ›¿ãˆã‚‹ã ã‘
  ========================================================= */

  const UPDATED = "2026-02-13";

  /* ===========================
     âœ… ç”»åƒURLã‚’ã“ã“ã§å·®ã—æ›¿ãˆ
     - GitHub Pagesã«ç½®ããªã‚‰: "./img/xxxx.png"
     - ul.h3z.jpç›´URLã§ã‚‚OK
  =========================== */

  // ---- è²©å£²ç”¨ 5 ----
  // kind: "è²©å£²ç”¨" / "éå£²å“"
  // category: ãƒ€ãƒ¼ãƒ„ / è·äºº / ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ / etcï¼ˆä»Šå¾Œå¢—ã‚„ã—ã¦OKï¼‰
  const CARDS = [
    {
      id: "dart_sale_01",
      name: "ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼ˆè²©å£²ç”¨ï¼‰01",
      kind: "è²©å£²ç”¨",
      category: "ãƒ€ãƒ¼ãƒ„",
      tags: ["ãƒ€ãƒ¼ãƒ„","ã‚³ãƒ©ãƒœ","è²©å£²ç”¨"],
      skill: "ï¼ˆå¿…æ®ºæŠ€ï¼‰",
      desc: "ï¼ˆèª¬æ˜æ–‡ï¼šçŸ­ãï¼‰",
      date: "2026-02-10",
      img: "./img/dart_sale_01.png",
      isLegend: false,
      pick: true
    },
    {
      id: "dart_sale_02",
      name: "ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼ˆè²©å£²ç”¨ï¼‰02",
      kind: "è²©å£²ç”¨",
      category: "ãƒ€ãƒ¼ãƒ„",
      tags: ["ãƒ€ãƒ¼ãƒ„","ã‚³ãƒ©ãƒœ","è²©å£²ç”¨"],
      skill: "ï¼ˆå¿…æ®ºæŠ€ï¼‰",
      desc: "ï¼ˆèª¬æ˜æ–‡ï¼šçŸ­ãï¼‰",
      date: "2026-02-10",
      img: "./img/dart_sale_02.png",
      isLegend: false,
      pick: true
    },
    {
      id: "dart_sale_03",
      name: "ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼ˆè²©å£²ç”¨ï¼‰03",
      kind: "è²©å£²ç”¨",
      category: "ãƒ€ãƒ¼ãƒ„",
      tags: ["ãƒ€ãƒ¼ãƒ„","ã‚³ãƒ©ãƒœ","è²©å£²ç”¨"],
      skill: "ï¼ˆå¿…æ®ºæŠ€ï¼‰",
      desc: "ï¼ˆèª¬æ˜æ–‡ï¼šçŸ­ãï¼‰",
      date: "2026-02-11",
      img: "./img/dart_sale_03.png",
      isLegend: false,
      pick: true
    },
    {
      id: "dart_sale_04",
      name: "ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼ˆè²©å£²ç”¨ï¼‰04",
      kind: "è²©å£²ç”¨",
      category: "ãƒ€ãƒ¼ãƒ„",
      tags: ["ãƒ€ãƒ¼ãƒ„","ã‚³ãƒ©ãƒœ","è²©å£²ç”¨"],
      skill: "ï¼ˆå¿…æ®ºæŠ€ï¼‰",
      desc: "ï¼ˆèª¬æ˜æ–‡ï¼šçŸ­ãï¼‰",
      date: "2026-02-12",
      img: "./img/dart_sale_04.png",
      isLegend: false,
      pick: false
    },
    {
      id: "dart_sale_05",
      name: "ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼ˆè²©å£²ç”¨ï¼‰05",
      kind: "è²©å£²ç”¨",
      category: "ãƒ€ãƒ¼ãƒ„",
      tags: ["ãƒ€ãƒ¼ãƒ„","ã‚³ãƒ©ãƒœ","è²©å£²ç”¨"],
      skill: "ï¼ˆå¿…æ®ºæŠ€ï¼‰",
      desc: "ï¼ˆèª¬æ˜æ–‡ï¼šçŸ­ãï¼‰",
      date: "2026-02-13",
      img: "./img/dart_sale_05.png",
      isLegend: false,
      pick: false
    },

    // ---- éå£²å“ 5ï¼ˆãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰æ ï¼‰----
    {
      id: "dart_np_01",
      name: "ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼ˆéå£²å“ï¼‰01",
      kind: "éå£²å“",
      category: "ãƒ€ãƒ¼ãƒ„",
      tags: ["ãƒ€ãƒ¼ãƒ„","ã‚³ãƒ©ãƒœ","éå£²å“"],
      skill: "è¨˜éŒ²ã®ã¿",
      desc: "è³¼å…¥ä¸å¯ã€‚é…å¸ƒ/è¨˜éŒ²ã§ã®ã¿è¿½åŠ ã•ã‚Œã‚‹ã€‚",
      date: "2026-02-13",
      img: "./img/dart_np_01.png",
      isLegend: true,
      pick: false
    },
    {
      id: "dart_np_02",
      name: "ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼ˆéå£²å“ï¼‰02",
      kind: "éå£²å“",
      category: "ãƒ€ãƒ¼ãƒ„",
      tags: ["ãƒ€ãƒ¼ãƒ„","ã‚³ãƒ©ãƒœ","éå£²å“"],
      skill: "è¨˜éŒ²ã®ã¿",
      desc: "è³¼å…¥ä¸å¯ã€‚é…å¸ƒ/è¨˜éŒ²ã§ã®ã¿è¿½åŠ ã•ã‚Œã‚‹ã€‚",
      date: "2026-02-13",
      img: "./img/dart_np_02.png",
      isLegend: true,
      pick: false
    },
    {
      id: "dart_np_03",
      name: "ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼ˆéå£²å“ï¼‰03",
      kind: "éå£²å“",
      category: "ãƒ€ãƒ¼ãƒ„",
      tags: ["ãƒ€ãƒ¼ãƒ„","ã‚³ãƒ©ãƒœ","éå£²å“"],
      skill: "è¨˜éŒ²ã®ã¿",
      desc: "è³¼å…¥ä¸å¯ã€‚é…å¸ƒ/è¨˜éŒ²ã§ã®ã¿è¿½åŠ ã•ã‚Œã‚‹ã€‚",
      date: "2026-02-13",
      img: "./img/dart_np_03.png",
      isLegend: true,
      pick: false
    },
    {
      id: "dart_np_04",
      name: "ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼ˆéå£²å“ï¼‰04",
      kind: "éå£²å“",
      category: "ãƒ€ãƒ¼ãƒ„",
      tags: ["ãƒ€ãƒ¼ãƒ„","ã‚³ãƒ©ãƒœ","éå£²å“"],
      skill: "è¨˜éŒ²ã®ã¿",
      desc: "è³¼å…¥ä¸å¯ã€‚é…å¸ƒ/è¨˜éŒ²ã§ã®ã¿è¿½åŠ ã•ã‚Œã‚‹ã€‚",
      date: "2026-02-13",
      img: "./img/dart_np_04.png",
      isLegend: true,
      pick: false
    },
    {
      id: "dart_np_05",
      name: "ãƒ€ãƒ¼ãƒ„ã‚³ãƒ©ãƒœï¼ˆéå£²å“ï¼‰05",
      kind: "éå£²å“",
      category: "ãƒ€ãƒ¼ãƒ„",
      tags: ["ãƒ€ãƒ¼ãƒ„","ã‚³ãƒ©ãƒœ","éå£²å“"],
      skill: "è¨˜éŒ²ã®ã¿",
      desc: "è³¼å…¥ä¸å¯ã€‚é…å¸ƒ/è¨˜éŒ²ã§ã®ã¿è¿½åŠ ã•ã‚Œã‚‹ã€‚",
      date: "2026-02-13",
      img: "./img/dart_np_05.png",
      isLegend: true,
      pick: false
    },
  ];

/* ===========================
     âœ… ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆã‚«ãƒ†ã‚´ãƒªã¯ä»Šå¾Œå¢—ãˆã¦ã‚‚è‡ªå‹•ç”Ÿæˆï¼‰
     - ã‚«ãƒ†ã‚´ãƒª: CARDSã‹ã‚‰è‡ªå‹•æŠ½å‡º
     - æ : ã™ã¹ã¦ / è²©å£²ç”¨ / éå£²å“
  =========================== */
  const FRAME_FILTERS = ["ã™ã¹ã¦","è²©å£²ç”¨","éå£²å“"];

  /* ===========================
     UI refs
  =========================== */
  const $ = (q) => document.querySelector(q);
  const grid = $("#grid");
  const legendArea = $("#legendArea");
  const legendScroll = $("#legendScroll");
  const countLine = $("#countLine");
  const subLine = $("#subLine");
  const updatedPill = $("#updatedPill");

  const q = $("#q");
  const sortSel = $("#sort");

  const catChips = $("#catChips");
  const rarChips = $("#rarChips");

  const modal = $("#modal");
  const mTitle = $("#mTitle");
  const mImg = $("#mImg");
  const mTags = $("#mTags");
  const mDesc = $("#mDesc");
  const mClose = $("#mClose");

  $("#backBtn").addEventListener("click", () => history.back());
  updatedPill.textContent = `æ›´æ–°: ${UPDATED}`;

  /* ===========================
     State
  =========================== */
  const state = {
    cat: "ã™ã¹ã¦",
    frame: "ã™ã¹ã¦",
    query: "",
    sort: "new",
  };

  /* ===========================
     Build chips
  =========================== */
  function buildChips(container, items, key){
    container.innerHTML = "";
    for(const it of items){
      const b = document.createElement("button");
      b.type = "button";
      b.className = "chip";
      b.textContent = it;
      b.setAttribute("aria-pressed", String(state[key] === it));
      b.addEventListener("click", () => {
        state[key] = it;
        [...container.querySelectorAll(".chip")].forEach(x => x.setAttribute("aria-pressed","false"));
        b.setAttribute("aria-pressed","true");
        render();
      });
      container.appendChild(b);
    }
  }

  // ã‚«ãƒ†ã‚´ãƒªã¯è‡ªå‹•ç”Ÿæˆï¼ˆè·äºº/ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼ãŒå¢—ãˆã¦ã‚‚OKï¼‰
  const CAT_LIST = ["ã™ã¹ã¦", ...Array.from(new Set(CARDS.map(c => c.category))).sort((a,b)=>a.localeCompare(b, "ja"))];
  buildChips(catChips, CAT_LIST, "cat");
  buildChips(rarChips, FRAME_FILTERS, "frame");

  /* ===========================
     Search / sort listeners
  =========================== */
  q.addEventListener("input", () => {
    state.query = (q.value || "").trim();
    render();
  });
  sortSel.addEventListener("change", () => {
    state.sort = sortSel.value;
    render();
  });

  /* ===========================
     Helpers
  =========================== */
  function matches(card){
    if(state.cat !== "ã™ã¹ã¦"){
      if(card.category !== state.cat) return false;
    }
    if(state.frame !== "ã™ã¹ã¦"){
      if(card.kind !== state.frame) return false;
    }
    if(state.query){
      const s = state.query.toLowerCase();
      const hay = [
        card.name, card.kind, card.category, card.skill, card.desc,
        ...(card.tags || [])
      ].join(" ").toLowerCase();
      if(!hay.includes(s)) return false;
    }
    return true;
  }

  function sortCards(list){
    const a = [...list];
    if(state.sort === "new"){
      a.sort((x,y) => (y.date||"").localeCompare(x.date||""));
    }else if(state.sort === "old"){
      a.sort((x,y) => (x.date||"").localeCompare(y.date||""));
    }else if(state.sort === "tag"){
      a.sort((x,y) => ((x.tags?.[0]||"")).localeCompare((y.tags?.[0]||""), "ja"));
    }else if(state.sort === "name"){
      a.sort((x,y) => (x.name||"").localeCompare(y.name||"", "ja"));
    }
    return a;
  }

  function makeTag(text, isGold=false){
    const s = document.createElement("span");
    s.className = "tag" + (isGold ? " gold" : "");
    s.textContent = text;
    return s;
  }

  function openModal(card){
    mTitle.textContent = card.name || "â€”";
    mImg.src = card.img;
    mImg.alt = card.name || "æ‹¡å¤§ç”»åƒ";
    mTags.innerHTML = "";

    // ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¿ã‚°ï¼ˆæ /ã‚«ãƒ†ã‚´ãƒª/ã‚¿ã‚°ï¼‰
    mTags.appendChild(makeTag(card.kind, card.kind==="éå£²å“"));
    mTags.appendChild(makeTag(card.category, card.kind==="éå£²å“"));
    (card.tags||[]).slice(0,5).forEach(t => mTags.appendChild(makeTag(t, card.kind==="éå£²å“")));

    const skillLine = card.skill ? `å¿…æ®ºæŠ€ï¼š<b>${escapeHtml(card.skill)}</b><br>` : "";
    mDesc.innerHTML =
      `${skillLine}${escapeHtml(card.desc || "")}<br><br>` +
      `<span style="color:rgba(255,255,255,.75);font-weight:900;">è¨˜éŒ²æ—¥ï¼š</span>` +
      `<span style="color:rgba(255,255,255,.85);font-weight:1000;">${escapeHtml(card.date || "â€”")}</span>`;

    modal.setAttribute("aria-hidden","false");
    document.body.style.overflow = "hidden";
  }

  function closeModal(){
    modal.setAttribute("aria-hidden","true");
    document.body.style.overflow = "";
  }

  mClose.addEventListener("click", closeModal);
  modal.addEventListener("click", (e) => {
    if(e.target === modal) closeModal();
  });
  document.addEventListener("keydown", (e) => {
    if(e.key === "Escape" && modal.getAttribute("aria-hidden")==="false") closeModal();
  });

  function escapeHtml(str){
    return String(str).replace(/[&<>"']/g, (m) => ({
      "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"
    }[m]));
  }

  /* ===========================
     Picks (ç´¹ä»‹ã‚³ãƒ¼ãƒŠãƒ¼)
     - pick:true ã®ä¸­ã‹ã‚‰3ã¤ã‚’è‡ªå‹•æ¡ç”¨ï¼ˆè²©å£²ç”¨ã®ã¿ï¼‰
  =========================== */
  function renderPicks(){
    const picks = CARDS.filter(c => !c.isLegend && c.pick).slice(0,3);
    const slots = [$("#pick1"), $("#pick2"), $("#pick3")];

    for(let i=0;i<3;i++){
      const slot = slots[i];
      const img = slot.querySelector("img");
      const t = slot.querySelector(".t");
      const d = slot.querySelector(".d");

      const c = picks[i] || null;
      if(!c){
        img.src = "";
        t.textContent = "ï¼ˆãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—æœªè¨­å®šï¼‰";
        d.innerHTML = "CARDSé…åˆ—ã® <b>pick:true</b> ã‚’3æšåˆ†ã¤ã‘ã‚‹ã¨è‡ªå‹•è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚";
        slot.style.cursor = "";
        slot.onclick = null;
        continue;
      }
      img.src = c.img;
      t.textContent = c.name;
      d.innerHTML = `å¿…æ®ºæŠ€ï¼š<b>${escapeHtml(c.skill||"â€”")}</b><br>${escapeHtml(c.desc||"")}`;

      slot.style.cursor = "pointer";
      slot.onclick = () => openModal(c);
    }
  }

  /* ===========================
     Render
  =========================== */
  function render(){
    const sale = CARDS.filter(c => !c.isLegend);
    const legends = CARDS.filter(c => c.isLegend);

    const filtered = sortCards(sale.filter(matches));
    grid.innerHTML = "";

    for(const c of filtered){
      const el = document.createElement("article");
      el.className = "card";
      el.setAttribute("tabindex","0");
      el.setAttribute("role","button");
      el.setAttribute("aria-label", c.name + " ã‚’é–‹ã");

      const img = document.createElement("img");
      img.className = "thumb";
      img.src = c.img;
      img.alt = c.name;

      const body = document.createElement("div");
      body.className = "card-body";

      const name = document.createElement("div");
      name.className = "card-name";
      name.textContent = c.name;

      const tags = document.createElement("div");
      tags.className = "tags";

      // æ ï¼‹ã‚«ãƒ†ã‚´ãƒª
      tags.appendChild(makeTag(c.kind, c.kind==="éå£²å“"));
      tags.appendChild(makeTag(c.category));

      // è¿½åŠ ã‚¿ã‚°å°‘ã—
      (c.tags||[]).slice(0,2).forEach(t => tags.appendChild(makeTag(t)));

      const skill = document.createElement("div");
      skill.className = "skill";
      skill.innerHTML = `å¿…æ®ºæŠ€ï¼š<span>${escapeHtml(c.skill || "â€”")}</span>`;

      body.appendChild(name);
      body.appendChild(tags);
      body.appendChild(skill);

      el.appendChild(img);
      el.appendChild(body);

      el.addEventListener("click", () => openModal(c));
      el.addEventListener("keydown", (e) => {
        if(e.key === "Enter" || e.key === " "){
          e.preventDefault();
          openModal(c);
        }
      });

      grid.appendChild(el);
    }

    // count
    countLine.textContent = `${filtered.length} / ${sale.length}`;

    // sub
    const labelParts = [];
    if(state.cat !== "ã™ã¹ã¦") labelParts.push(`ã‚«ãƒ†ã‚´ãƒª: ${state.cat}`);
    if(state.frame !== "ã™ã¹ã¦") labelParts.push(`æ : ${state.frame}`);
    if(state.query) labelParts.push(`æ¤œç´¢: "${state.query}"`);
    subLine.textContent = labelParts.length ? labelParts.join(" / ") : "ã™ã¹ã¦ã®è²©å£²ç”¨ã‚«ãƒ¼ãƒ‰";

    // legend render
    legendScroll.innerHTML = "";
    if(legends.length === 0){
      legendArea.style.display = "none";
    }else{
      legendArea.style.display = "";
      // ä¸¦ã³ã¯æ–°ã—ã„é †å›ºå®šï¼ˆãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ã¯è¦‹ã›ã‚‹ã ã‘ï¼‰
      const legSorted = [...legends].sort((x,y) => (y.date||"").localeCompare(x.date||""));
      for(const c of legSorted){
        const box = document.createElement("div");
        box.className = "legend-card";

        const img = document.createElement("img");
        img.src = c.img;
        img.alt = c.name;

        const b = document.createElement("div");
        b.className = "b";

        const n = document.createElement("div");
        n.className = "n";
        n.textContent = c.name;

        const s = document.createElement("div");
        s.className = "s";
        s.textContent = `æ ï¼š${c.kind} / å¿…æ®ºæŠ€ï¼š${c.skill || "â€”"}`;

        b.appendChild(n);
        b.appendChild(s);

        box.appendChild(img);
        box.appendChild(b);

        box.addEventListener("click", () => openModal(c));
        legendScroll.appendChild(box);
      }
    }
  }

  // åˆæœŸæç”»
  renderPicks();
  render();

})();
</script>

</body>
</html>